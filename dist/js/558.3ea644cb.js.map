{"version":3,"file":"js/558.3ea644cb.js","mappings":"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","sources":["webpack://xzs-project-one/./src/components/Login.vue","webpack://xzs-project-one/./src/utils/validate.js","webpack://xzs-project-one/src/components/Login.vue","webpack://xzs-project-one/./src/components/Login.vue?4b33","webpack://xzs-project-one/./src/components/Login.vue?5196","webpack://xzs-project-one/./src/api/api.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"客户管理系统\")])]),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login('form')}}},[_vm._v(\"登录\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//用户名匹配\r\nexport function nameRule(rule, value, callback) {\r\n  //请输入4-10位昵称\r\n  let reg = /(^[a-zA-Z0-9]{4,10}$)/;\r\n  if (value === \"\") {\r\n    callback(new Error(\"请输入用户名\"));\r\n  } else if (!reg.test(value)) {\r\n    callback(new Error(\"请输入4-10位字符\"));\r\n  } else {\r\n    callback();\r\n  }\r\n}\r\n//密码匹配\r\nexport function passwordRule(rule, value, callback) {\r\n  //6-12位密码需要包含大小写字母和数字以及特殊符号\r\n  // let reg = /^\\S*(?=\\S{6,12})(?=\\S*\\d)(?=\\S*[A-Z])(?=\\S*[a-z])(?=\\S*[!@#$%^&*? ])\\S*$/\r\n  let reg = /(^[a-zA-Z0-9]{6,12}$)/;\r\n  if (value === \"\") {\r\n    callback(new Error(\"请输入密码\"));\r\n  } else if (!reg.test(value)) {\r\n    callback(new Error(\"请输入6-12位字符\"));\r\n  } else {\r\n    callback();\r\n  }\r\n}\r\n","<template>\r\n    <div class=\"login\">\r\n        <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n                <span>客户管理系统</span>\r\n            </div>\r\n            \r\n            <el-form ref=\"form\" label-width=\"80px\" \r\n            :model=\"form\" :rules=\"rules\">\r\n                <el-form-item label=\"用户名\" prop=\"username\">\r\n                    <el-input v-model=\"form.username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input type=\"password\" v-model=\"form.password\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button @click=\"login('form')\" type=\"primary\">登录</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {nameRule,passwordRule} from '../utils/validate'\r\nimport {setToken} from '@/utils/setToken'\r\nimport {login} from '@/api/api'\r\nexport default ({\r\n    name:\"Login\",\r\n    data(){\r\n        \r\n        return{\r\n            form:{\r\n                username:'',\r\n                password:'',\r\n            },\r\n            rules:{\r\n                username:[{validator:nameRule,trigger:'blur'}],\r\n                password:[{validator:passwordRule,trigger:'blur'}],\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        login(form){\r\n            this.$refs[form].validate((valid)=>{\r\n                if (valid) {\r\n                    console.log(this.form);\r\n                    //把这个登录方法封装成api进行调用\r\n                    /* this.service.post('/login',this.form)\r\n                    .then(res=>{\r\n                        if (res.data.status === 200) {\r\n                            setToken('username',res.data.username)\r\n                            setToken('token',res.data.token)\r\n                            this.$message({message:res.data.message,type:'success'})\r\n                            this.$router.push('/home')\r\n                        }\r\n                        console.log(res);\r\n                    }) */\r\n                    login(this.form).then(res=>{\r\n                        if (res.data.status === 200) {\r\n                            setToken('username',res.data.username)\r\n                            setToken('token',res.data.token)\r\n                            this.$message({message:res.data.message,type:'success'})\r\n                            this.$router.push('/home')\r\n                        }\r\n                    })\r\n                }else{\r\n                    console.error(this.form);\r\n                }\r\n            })\r\n        }\r\n    },\r\n})\r\n</script>\r\n<style scoped lang=\"less\">\r\n.login{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    background: url(../assets/index.jpeg) center no-repeat;\r\n    .box-card{\r\n        width: 450px;\r\n        margin: 200px auto;\r\n        .clearfix{\r\n            font-size: 25px;\r\n        }\r\n        .el-button{\r\n            width: 100%;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=27bf0908&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=27bf0908&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27bf0908\",\n  null\n  \n)\n\nexport default component.exports","// 项目中我们大多数会把对应的接口请求封装成api来调用\r\nimport service from \"../service\";\r\nimport qs from \"qs\";\r\n\r\n//登录接口\r\nexport function login(data) {\r\n  return service({\r\n    method: \"post\",\r\n    url: \"/login\",\r\n    data,\r\n  });\r\n}\r\n\r\n//学生列表查询接口\r\nexport function students(params) {\r\n  return service({\r\n    method: \"get\",\r\n    url: \"/students\",\r\n    params,\r\n  });\r\n}\r\n\r\n//学生列表删除接口\r\nexport function studentDel(id) {\r\n  return service({\r\n    method: \"delete\",\r\n    url: `/students/${id}`,\r\n  });\r\n}\r\n\r\n//信息查询接口\r\nexport function getInfo() {\r\n  return service({\r\n    method: \"get\",\r\n    url: \"/info\",\r\n  });\r\n}\r\n\r\n//信息列表新增接口\r\n/* export function info(data) {\r\n  data = qs.stringify(data);\r\n  return service({\r\n    method: \"post\",\r\n    url: \"/info\",\r\n    data,\r\n  });\r\n} */\r\n\r\n//信息列表新增和修改接口\r\nexport function info(type, data) {\r\n  data = qs.stringify(data);\r\n  let obj = { method: type, url: \"/info\", data };\r\n  return service(obj);\r\n}\r\n\r\n//信息列表删除接口\r\nexport function infoDel(id) {\r\n  return service({\r\n    method: \"delete\",\r\n    url: `/info/${id}`,\r\n  });\r\n}\r\n\r\n//数据概览接口\r\nexport function dataView() {\r\n  return service({\r\n    method: \"get\",\r\n    url: \"/dataview\",\r\n  });\r\n}\r\n\r\n//旅游地图接口\r\nexport function travel() {\r\n  return service({\r\n    method: \"get\",\r\n    url: \"/travel\",\r\n  });\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","ref","form","rules","model","value","username","callback","$$v","$set","expression","password","on","$event","login","staticRenderFns","nameRule","rule","reg","Error","test","passwordRule","name","data","validator","trigger","methods","console","setToken","message","type","component","service","method","url","students","params","studentDel","id","getInfo","info","qs","obj","infoDel","dataView","travel"],"sourceRoot":""}